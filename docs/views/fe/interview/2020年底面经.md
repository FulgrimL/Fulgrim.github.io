---
title: 【面试】2020年底面经
sidebar: 'auto'
date: 2021-02-12
tags:
 - 面试
categories:
 - 前端
---

> 功夫不负有心人，【有赞】目标冲击完成，过个好年

<!-- more -->

## 结果
【有赞】 经历过五面，终于在年前最后一天发了offer

## 原因
离职的原因无非就那几种，钱少事多不开心。

## 个人问题
1. 个人话太多，容易抢话
2. 回答问题容易跑题, 答非所问
3. 算法薄弱

## 面试结果

### 微点科技(offer)

### 涂鸦智能(现场挂)

### 讯盟科技(offer)

### 海康威视(电话挂)

### 端点科技(offer)

### 有赞
#### 一面(电话1h)
1. 讲讲最近的项目
2. 讲讲自己写的打印插件，vue-iframe-print，和其他打印方式对比。分页问题，默认背景图如何显示（知道有css，但是记不住是那个），自定义样式等等
3. 权限系统（RBAC），具体实现，接口权限校验。通用接口如何校验，可复用的业务接口如何校验（每个业务模块配置，感觉这样做不太好，自己得再想想）
4. OAuth 2.0 按照当前公司的一些单点登录流程来讲的，貌似不是标准的oauth，得下去了解一下。
5. 微前端（项目在用） 为什么要用微前端，和iframe对比了一下。微前端和容器之间的通信方式（目前storage，也不是很好的办法）。
6. 实现一个水平垂直居中

几种方式：flex，margin，absolute，table-cell，grid

flex:1含义 ，0 1 auto ，放大 缩小 基础宽度

主轴方向（flex-direction  当时自己没想起来~） 

主盒子500px，三个子盒子：1盒子100px，2盒子flex：3，3盒子flex：1； 3盒子的具体宽度是多少，100px，比较简单

7. margin塌陷？有没有遇到过其他css问题？说了一个inline-block默认边距问题

8. vue响应式原理

从data开始，遍历data里面的属性，递归添加get和set。在get的时候进行dep依赖收集，set的时候进行派发更新，当触发了对应的watcher，就会通知对应的dep进行diff和patch，更新dom

9. 组件data为什么是一个函数？作用域

10. vue Object.defineProperty缺陷？数组7个方法怎么重写的？

自己说的比较全，包括vue源码处理，重写数组7个方法，$set原理。 

重写7个原生数组方法，感觉自己描述的不清楚。

11. dep依赖搜集与watcher派发更新流程？dep是发布者还是订阅者？怎么知道每一个watcher要通知哪一个dep？

dep和watcher这个基本和响应式描述差不多

dep是订阅者

每个watcher都会有个watcherId，可以找到对应的dep

12. keep-alive原理？

缓存的VNode，描述了一下简单用法。

LRU算法直接说了下概念，具体怎么用的这个算法，直接说了自己不了解

13. 讲一讲虚拟dom

先描述下什么是虚拟dom，回答了什么情况下快？什么时候慢？更多的是跨平台的作用，以及这种借用对象来描述一个事物的想法。

14. vue diff算法

先讲了一下没有key的情况，就地复用算法。

有key的情况，diff的流程，广度优先遍历

和react diff对比了一下，包括patch的区别

15. 为什么使用key能提升diff性能

通过key对比节点，更快

map数据结构更快

16. vue-router hash 和 history区别

17. vuex主要解决了什么问题？跨组件通信，数据持久化，数据响应式

18. 判断数据类型

typeof，instanceOf，Object.protoType.toString.call(), Array.isArray()

19. this指向的理解

声明时和运行时指向

箭头函数指向

修改this指向

20. call,apply,bind区别

call，apply  参数区别，会执行一下要改变的函数

bind 返回一个闭包，不会执行函数，而且返回的新函数this不可再次改变

讲一下实现一个bind的思路

21. 函数柯里化概念，常用场景

简单讲了下什么是柯里化，场景说需要缓存的时候，没有深问，问了也不会。。。。

22. Vue3 Reactivity API有用过吗？

没有，然后讲了一下vue3 proxy的缺陷

23. 浏览器事件循环描述一下

主线程执行，任务队列，宏任务，微任务等等

24. 关于缓存的一些东西？如何提高缓存命中率？

强缓存，expire和cache-control

协商缓存，e-tag和last-modifed

DNS缓存

缓存命中率这个刚开始没理解，后来面试小哥提醒了一下，自己讲了一下webpack contenthash，回答到点上了。

25. 详细描述一下输入URL到页面打开的过程，尽量详细

- DNS解析，讲了DNS缓存查找的过程，浏览器缓存 》 服务器缓存 》 运营商缓存 》 域名公共服务
- TCP三次握手建立连接，讲了三次握手的流程，syn -> syn + ack -> ack
- 服务器返回资源，浏览器下载完成开始渲染，css树，dom树，渲染树
- TCP四次挥手断开连接，fin -> ack -> fin -> ack

TCP连接是每次都要的吗？讲了一下http的 Connection: keep-alive nginx默认开启的，也可以设置达到多少个连接以后就断开连接
26. 数组和链表在计算机中存储的方式

数组：每个元素都会开辟一个内存，访问的时候也是自己就可以找到，时间复杂度是O(1)

链表：单向链表与双向链表，查找的时候需要遍历，时间复杂度O(n)

插入的时候，数组和链表那个性能更高？ 链表，数组需要移动很多位

从内存空间上用计算机的方式，数组插入一个元素，push这种不行。说了数组加length也不对。  不知道答案是啥

27. 你有什么想问我的？

问了下自己面的那个部门（之前有猎头联系我说有赞教育比较急，所以问了下）。 得知有赞那边是先面过，然后根据个人情况分配。

问了下技术氛围（听人说，有赞前端技术很强，所以问了下） 技术分享有，比我们多了个技术方案评审，感觉这个挺重要的。

问了下工作节奏（猎头说995，之前看新闻说996）  995，周三周五6点走，不打卡，周六加班给调休。

然后约了二面，视频coding

#### 二面（视频coding）

时间比较短，写了两道，写的也不全对，前两道思路写出来了。算法题看了一会，不会~~~
```js
// Coding 须知：本次 Coding 时间限制为 45 分钟，共 3 道题，请量力答题
/**
 * 1. 实现一个函数，判断两个变量值是否相等
 * 
 * 注意
 * - 数据类型不限于示例，尽可能考虑边界
 * - function 引用相等即可
 */
const foo1 = {
    a: 1,
    b: '1',
    c: NaN,
    d: [{
        a: 1,
        b: 2
    }],
    f: {
        a: 1
    },
    g: null
}

const foo2 = {
    a: 1,
    b: '1',
    c: NaN,
    d: [{
        a: 1,
        b: 2
    }],
    f: {
        a: 1
    },
    g: null
}

function isEqual(target1, target2) {
}
console.log(isEqual(foo1, foo2), 'isEqual');

/**
 * 2. 实现 getValue 函数来获取path对应的值
 */
var object = { 'a': [{ 'b': { 'c': 3 } }] }; // path: 'a[0].b.c'
var array = [{ "a": { b: [1] } }]; // path: '[0].a.b[0]'

function getValue(target, valuePath, defaultValue) {
    
}

console.log(getValue(object, 'a[0].b.c', 0));  // 输出3
console.log(getValue(array, '[0].a.b[0]', 12)); // 输出 1
console.log(getValue(array, '[0].a.b[0].c', 12));  // 输出 12

/**
 * 问题 3
 * 将一天24小时按每半小划分成48段，我们用一个位图表示选中的时间区间，例如`110000000000000000000000000000000000000000000000`，
 * 表示第一个半小时和第二个半小时被选中了，其余时间段都没有被选中，也就是对应00:00~01:00这个时间区间。一个位图中可能有多个不连续的
 * 时间区间被选中，例如`110010000000000000000000000000000000000000000000`，表示00:00-1:00和02:00-02:30这两个时间区间被选中了。
 * 
 * 要求：写一个函数timeBitmapToRanges，将上述规则描述的时间位图转换成一个选中时间区间的数组。
 * 示例输入：`"110010000000000000000000000000000000000000000000"`
 * 示例输出：`["00:00~01:00", "02:00~02:30"]`
 */
function timeBitmapToRanges(str) {

}

console.log(timeBitmapToRanges('110010000000000000000000000000000000000000000000'))
console.log(timeBitmapToRanges('110011000000110000000000000000000000000000001111'))
```
#### 三面（现场1h20mins）



## 离职

## 过年准备