---
title: 【每日学习打卡】3.11
sidebar: "auto"
date: 2021-03-11
tags:
  - 学习打卡
categories:
  - 学习打卡
---

> 新的一个月，新的开始，🆙

<!-- more -->

<!-- :::tip
::: -->
<!-- ## 过年在杭州计划 9天()
- vue3 + TS  实现部分当前业务逻辑
- react hooks + TS  实现部分当前业务逻辑
- webpack 源码
- 算法打卡10题
- 浏览器原理学习+文章输出
- js 类 -->

<!-- ## 目录
[[toc]] -->
<!-- ## 计划中
- webpack系统性学习
- babel
- typescript应用到微服务中
- 计算机网络系统性复习，毕竟专业
- vite
- lodash源码加入学习计划
- 正则表达式  -->
<!-- ## 计划 -->
<!-- ### 浏览器内部机制 -->

## 3.11

### Array.map 生成节点

项目很多节点都是 map 生成的，想着 map 返回的是一个数组，怎么就变成节点了呢，试了一下，还真的是

```js
function Example() {
  const arr = [
    { name: "JJ", company: "youzan" },
    { name: "KK", company: "ali" },
    { name: "XY", company: "weiyi" },
    { name: "SQ", company: "dxy" },
  ];
  return (
    <>
      {arr.map((v, i) => {
        return <h3 key={i}>{v.name}</h3>;
      })}
    </>
  );
}
```

### React.Fragment

简单理解就是对标签进行分组，简写`<> </>`,不支持 key 或属性

```js
class Columns extends React.Component {
  render() {
    return (
      <>
        <td>Hello</td>
        <td>World</td>
      </>
    );
  }
}
```

### node bff

之前在微医根本不会接触到这些东西，第一次搞，有点懵。。。

有赞这边，我接触的两个 pc 项目都用 node 去包装了一层接口，后端只需要提供`com.youzan.xxxx.xxxx.server`以及后端的一个方法名称，前端用 node 去包装一个接口，暴露给静态应用使用。省去了很多后端的活，很多人接触的都是后端直接给个 api 的形式。用 bff，我们前端可以自己去包装接口，后端只需要提供业务逻辑方法即可。

### ts never 类型

项目代码中很多结构的写法，比如

```js
fetchXXX().then(({ a = [], b = {}, c = 0 } = {}) => {
  // b.x = 1; 报错，编辑器提示说never类型不允许赋值number，网上查说可以用 b['x']，试了没用
  this.setState({
    dataA: a,
    dataB: b,
    dataC: c,
  });
});
```

还没解决，记录下来问大佬们

## 3.10

### 项目熟悉

流程上和上家公司有部分相似，慢慢适应，接了一个小活，有事情干了，冲冲冲

### React.FC<>

React 的组件可以定义为 函数（React.FC<>）或 class（继承 React.Component） 的形式。

- React.FC 是函数式组件，是在 TypeScript 使用的一个泛型，FC 就是 FunctionComponent 的缩写，事实上 React.FC 可以写成 React.FunctionComponent

```js
const App: React.FunctionComponent<{ message: string }> = ({ message }) => (
  <div>{message}</div>
);
```

- 使用 React.FC 来写 React 组件的时候，是不能用 setState 的，取而代之的是 useState()、useEffect 等 Hook API
- React.FC 包含了 PropsWithChildren 的泛型

## 3.9 入职

### 新人报道，流水账

- 9：30 来了好多特警，查的挺严的。貌似是因为买家和卖家的问题，闹到了有赞。
- 9：30 - 11：00 新人培训，各种账号，流程
- 11：30 - 13：30 工位搞搞
- 13：30 下午继续培训
- 发笔记本：M1 的 Mac Book Pro
- IT 小哥相关介绍
- 合同相关
- 最后一个小活动 团队活动：所有新人一起拍个抖音视频 个人活动：找有伴（导师），TL，HRBP，有缘人拍合照，发到公司全员群

### 技术相关

react17 + typescript 边学边写，压力比较大，成长应该也是最快的，冲冲冲。

## 3.8

搬家 + 收拾家

体检报告出来了，验血有个指标 ALT 的，正常 50 以内，我是 95，解读是过度劳累，差点猝死。。。

## 3.7

上午体检，下午搬家

## 3.6

### 找房

上周末看过一次，没找到合适的。这次带女朋友一块看的，本来决定租自如的。晚上回去又看到一个转租的，就约了下，还不错，就签了。

一个没毕业的妹子转租的，中间为了 50%的转租费，扯了一会，小姐姐人挺好，我运气也不错。

## 3.5

在微医的最后一天，还要开技术评审。溜了溜了

### 算法打卡

[287. 寻找重复数](https://leetcode-cn.com/problems/find-the-duplicate-number/)

给定一个包含  n + 1 个整数的数组  nums ，其数字都在 1 到 n  之间（包括 1 和 n），可知至少存在一个重复的整数。

假设 nums 只有 一个重复的整数 ，找出 这个重复的数 。

```js
var findDuplicate = function(nums) {
  let map = new Map();
  nums.forEach((v) => {
    if (!map.get(v)) {
      map.set(v, 1);
    } else {
      map.set(v, map.get(v) + 1);
    }
  });
  let res = 0;
  map.forEach((v, k, map) => {
    if (v > 1) {
      res = k;
    }
  });
  return res;
};
console.log(findDuplicate([3, 1, 3, 4, 2]));
```

## 3.4

## Map.prototype.forEach()

```js
function logMapElements(value, key, map) {
  console.log(`m[${key}] = ${value}`);
}
```

## React hooks

React hooks: not magic, just arrays

简单理解 hooks 工作原理是创建了两个一一对应的数组，如果使用 if 判断就会导致对应关系出错

### 删除排序数组中的重复项

给定一个排序数组，你需要在 原地 删除重复出现的元素，使得每个元素只出现一次，返回移除后数组的新长度。

不要使用额外的数组空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。

[leetcode26](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

```js
// 双指针i j 一般用与解决双重循环对比问题
// 如果两者不相等，就交换位置
function removeDuplicates(nums: number[]): number {
  let i: number = 0;
  for (let j: number = 1; j < nums.length; j++) {
    if (nums[j] !== nums[i]) {
      i++;
      nums[i] = nums[j];
    }
  }
  return i + 1;
}
```

## 3.3

### ts 基础文章

基础部分大概总结完了，项目用到了在看，冲冲冲

## 3.2

### react 项目打包路径问题

package.json 中添加`"homepage": "./",` 与'dependencies' 同级

### nrm

npm 源管理器

- npm install -g nrm
- 列出可选择的源:nrm ls
- 切换使用的源:nrm use npm
- 添加一个源:nrm add <registry> <url>
- 删除一个源:nrm del <registry>
- 测试源速度:nrm test

### craco npm 包

使用 create-react-app 创建项目，不想 eject 项目但想对项目中 wepback 进行自定义配置的时候使用搞这个，项目根目录新建 craco.config.js 进行配置

参考文章：[使用 craco 配置基于 create-react-app 的开发环境](https://blog.csdn.net/qq_39223195/article/details/106287522)

### 双问号操作符 ??

?? 替换||的运算符（只有 undefined 和 null 会返回默认值）,并提供默认值;

```js
> undefined ?? 'default'
'default'
> null ?? 'default'
'default'
> false ?? 'default'
false
> '' ?? 'default'
''
> 0 ?? 'default'
0
```

### 可选链操作符 ?.

```js
let arr = res && res.data && res.data.list;
// 等同于
let arr = res?.data?.list;
```

## 3.1

### ts 学习

见 ts 学习笔记

### react + ts his 系统开发

练手的过程遇到很多问题，继续冲冲冲，演示地址：[俊劫 his 系统](https://alexwjj.github.io/his/index.html)
